(self.webpackChunktriplate_app=self.webpackChunktriplate_app||[]).push([[6538],{"./src/components/Forms/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{MU:()=>FormAuthority,jV:()=>FormCreateUpdateTriplink,oK:()=>FormCreateUser,zy:()=>FormUpdateUser});var react=__webpack_require__("./node_modules/react/index.js"),next_router=__webpack_require__("./node_modules/next/router.js"),Buttons=__webpack_require__("./src/components/Buttons/index.ts"),Inputs=__webpack_require__("./src/components/Inputs/index.ts"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),storage=__webpack_require__("./src/redux/services/storage/index.ts"),getTriplinkPath=function getTriplinkPath(triplinkId){return"images/triplinks/".concat(triplinkId,"/thumbnail")},getProfilePath=function getProfilePath(uid){return"images/users/".concat(uid,"/profiles/icon")},triplinkId=(0,v4.Z)(),useFormCreateUpdateTriplink=function useFormCreateUpdateTriplink(){var _useUploadImageMutati=(0,storage.a)(),_useUploadImageMutati2=(0,slicedToArray.Z)(_useUploadImageMutati,2),uploadImage=_useUploadImageMutati2[0],uploading=_useUploadImageMutati2[1].isLoading,_useState=(0,react.useState)(""),url=_useState[0],setUrl=_useState[1],handleUploadImage=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(e){var file,res;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,!e.currentTarget.files){_context.next=9;break}return file=e.currentTarget.files[0],_context.next=5,uploadImage({file,path:getTriplinkPath(triplinkId)});case 5:if(!("error"in(res=_context.sent))||"error"!==res.error){_context.next=8;break}throw Error;case 8:"data"in res&&setUrl(res.data);case 9:_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(0),console.error(_context.t0);case 14:case"end":return _context.stop()}}),_callee,null,[[0,11]])})));return function handleUploadImage(_x){return _ref.apply(this,arguments)}}();return{triplinkId,uploading,url,handleUploadImage}},index_esm=__webpack_require__("./node_modules/react-hook-form/dist/index.esm.mjs"),yup=__webpack_require__("./node_modules/@hookform/resolvers/yup/dist/yup.mjs"),yup_index_esm=__webpack_require__("./node_modules/yup/index.esm.js");yup_index_esm.addMethod(yup_index_esm.string,"maxLength",(function(max,name){return this.test("maxLength",(function(value){return!(value&&value.length>max)||this.createError({message:"".concat(name,"をあと").concat(value.length-max,"文字短くしてください"),path:this.path})}))})),yup_index_esm.addMethod(yup_index_esm.string,"convertToNull",(function(){return this.transform((function(value,originalValue){return""===originalValue?null:value}))}));const yup_config=yup_index_esm;var _templateObject,_templateObject2,_templateObject3,firestore=__webpack_require__("./src/redux/services/firestore/index.ts"),useFormCreateUpdateUser=function useFormCreateUpdateUser(_ref){var _userData$userId,_userData$name,_userData$icon,_userData$description,_userData$links$insta,_userData$links$twitt,auth=_ref.auth,userData=_ref.userData,router=(0,next_router.useRouter)(),_useUploadImageMutati=(0,storage.a)(),_useUploadImageMutati2=(0,slicedToArray.Z)(_useUploadImageMutati,2),uploadImage=_useUploadImageMutati2[0],uploading=_useUploadImageMutati2[1].isLoading,_useCreateUserMutatio=(0,firestore.ny)(),createUser=(0,slicedToArray.Z)(_useCreateUserMutatio,1)[0],_useUpdateUserMutatio=(0,firestore.kD)(),updateUser=(0,slicedToArray.Z)(_useUpdateUserMutatio,1)[0],handleUploadImage=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(e){var file,res;return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,!e.currentTarget.files){_context.next=9;break}return file=e.currentTarget.files[0],_context.next=5,uploadImage({file,path:getProfilePath(auth.uid)});case 5:if(!("error"in(res=_context.sent))||"error"!==res.error){_context.next=8;break}throw Error;case 8:"data"in res&&setValue("icon",res.data,{shouldDirty:!0});case 9:_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(0),alert("画像アップロードに失敗しました。大変お手数ですが、再度お試しください");case 14:case"end":return _context.stop()}}),_callee,null,[[0,11]])})));return function handleUploadImage(_x){return _ref2.apply(this,arguments)}}(),_useForm=(0,index_esm.cI)({resolver:(0,yup.X)(schema),mode:"onChange",defaultValues:{userId:null!==(_userData$userId=null==userData?void 0:userData.userId)&&void 0!==_userData$userId?_userData$userId:"",name:null!==(_userData$name=null==userData?void 0:userData.name)&&void 0!==_userData$name?_userData$name:"",icon:null!==(_userData$icon=null==userData?void 0:userData.icon)&&void 0!==_userData$icon?_userData$icon:auth.icon,description:null!==(_userData$description=null==userData?void 0:userData.description)&&void 0!==_userData$description?_userData$description:"",links:{instagram:null!==(_userData$links$insta=null==userData?void 0:userData.links.instagram)&&void 0!==_userData$links$insta?_userData$links$insta:"",twitter:null!==(_userData$links$twitt=null==userData?void 0:userData.links.twitter)&&void 0!==_userData$links$twitt?_userData$links$twitt:""}}}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,setValue=_useForm.setValue,control=_useForm.control,reset=_useForm.reset,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isDirty=_useForm$formState.isDirty,isValid=_useForm$formState.isValid,isSubmitting=_useForm$formState.isSubmitting,isSubmitSuccessful=_useForm$formState.isSubmitSuccessful,currentIcon=(0,index_esm.qo)({control,name:"icon"}),currentUserId=(0,index_esm.qo)({control,name:"userId"});(0,react.useEffect)((function(){isSubmitSuccessful&&reset({},{keepValues:!0})}),[isSubmitSuccessful]);var onSubmit=function(){var _ref3=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(data){return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:if(_context2.prev=0,!userData){_context2.next=6;break}return _context2.next=4,update(data);case 4:_context2.next=8;break;case 6:return _context2.next=8,create(data);case 8:_context2.next=13;break;case 10:_context2.prev=10,_context2.t0=_context2.catch(0),alert("ユーザ".concat(userData?"情報の更新":"登録","に失敗しました。大変お手数ですが、再度お試しください"));case 13:case"end":return _context2.stop()}}),_callee2,null,[[0,10]])})));return function onSubmit(_x2){return _ref3.apply(this,arguments)}}(),create=function(){var _ref4=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee3(data){return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return _context3.next=2,createUser({uid:auth.uid,body:data}).unwrap();case 2:router.push("/home");case 3:case"end":return _context3.stop()}}),_callee3)})));return function create(_x3){return _ref4.apply(this,arguments)}}(),update=function(){var _ref5=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee4(data){return regenerator_default().wrap((function _callee4$(_context4){for(;;)switch(_context4.prev=_context4.next){case 0:return _context4.next=2,updateUser({uid:auth.uid,body:data}).unwrap();case 2:case"end":return _context4.stop()}}),_callee4)})));return function update(_x4){return _ref5.apply(this,arguments)}}();return{register,handleSubmit,onSubmit,uploading,handleUploadImage,errors,isDirty,isValid,isSubmitting,currentUserId,currentIcon}},schema=yup_config.object({userId:yup_config.string().maxLength(15,"ユーザID").required("ユーザIDは必須です").matches(/^[a-z0-9_]+$/,"ユーザー名には半角小文字英数字とアンダースコア（_）のみ使用できます"),name:yup_config.string().maxLength(15,"名前").required("表示される名前は必須です"),icon:yup_config.string().required("ユーザアイコンは必須です"),description:yup_config.string().maxLength(150,"自己紹介").nullable().convertToNull(),links:yup_config.object().shape({instagram:yup_config.string().nullable().convertToNull().max(30,"正しいアカウント名を指定してください").matches(/^(?!.*\.{2})(?!\.)(?!.*\.$)[\w.]+[^.]$/,"正しいアカウント名を指定してください"),twitter:yup_config.string().nullable().convertToNull().max(15,"正しいアカウント名を指定してください").matches(/^[\w]+$/,"正しいアカウント名を指定してください")})}),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),styles={formWrapper:(0,emotion_react_browser_esm.iv)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    position: relative;\n    width: 100%;\n    min-height: calc(100vh - 176px);\n  "]))),layoutInput:(0,emotion_react_browser_esm.iv)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    padding-top: 16px;\n  "]))),layoutButton:(0,emotion_react_browser_esm.iv)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    padding: 32px 0;\n  "])))},__jsx=react.createElement,FormCreateUpdateTriplink=function FormCreateUpdateTriplink(){var router=(0,next_router.useRouter)(),_useFormCreateUpdateT=useFormCreateUpdateTriplink(),handleUploadImage=_useFormCreateUpdateT.handleUploadImage,triplinkId=_useFormCreateUpdateT.triplinkId,url=_useFormCreateUpdateT.url,uploading=_useFormCreateUpdateT.uploading;return __jsx(react.Fragment,null,__jsx("div",{css:styles.formWrapper},__jsx("div",{css:styles.layoutInput},__jsx(Inputs.AZ,{htmlFor:"name",text:"旅の名前"},__jsx(Inputs.oH,{id:"name",isInvalid:!1,placeholder:"ともだちと京都旅行"}))),__jsx("div",{css:styles.layoutInput},__jsx(Inputs.AZ,{htmlFor:"date",text:"日付"},__jsx(Inputs.oH,{id:"name",isInvalid:!1,placeholder:"0000/00/00 ~ 0000/00/00"}))),__jsx("div",{css:styles.layoutInput},__jsx(Inputs.AZ,{htmlFor:"image",text:"サムネイルの画像"},__jsx(Inputs.Xf,{id:"image",src:url,type:"thumbnail",uploading,onChange:handleUploadImage})))),__jsx("div",{css:styles.layoutButton},__jsx(Buttons.v8,{onClick:function onClick(){return router.push("/triplink/".concat(triplinkId))}},"作成する")))};FormCreateUpdateTriplink.__docgenInfo={description:"",methods:[],displayName:"FormCreateUpdateTriplink"};var Selects=__webpack_require__("./src/components/Selects/index.ts"),FormAuthority_jsx=react.createElement,FormAuthority=function FormAuthority(_ref){var canEdit=_ref.canEdit;return FormAuthority_jsx("form",{action:"POST"},FormAuthority_jsx(Selects.d,{canEdit}))};FormAuthority.displayName="FormAuthority",FormAuthority.__docgenInfo={description:"",methods:[],displayName:"FormAuthority",props:{canEdit:{required:!0,tsType:{name:"boolean"},description:""}}};try{FormAuthority.displayName="FormAuthority",FormAuthority.__docgenInfo={description:"",displayName:"FormAuthority",props:{canEdit:{defaultValue:null,description:"",name:"canEdit",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/FormAuthority.tsx#FormAuthority"]={docgenInfo:FormAuthority.__docgenInfo,name:"FormAuthority",path:"src/components/Forms/FormAuthority.tsx#FormAuthority"})}catch(__react_docgen_typescript_loader_error){}var FormUpdateUser_styles_templateObject,FormUpdateUser_styles_templateObject2,FormUpdateUser_styles_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),next_image=__webpack_require__("./node_modules/next/image.js"),image_default=__webpack_require__.n(next_image),theme=__webpack_require__("./src/styles/theme.ts"),FormUpdateUser_styles_styles={layoutForm:(0,emotion_react_browser_esm.iv)(FormUpdateUser_styles_templateObject||(FormUpdateUser_styles_templateObject=(0,taggedTemplateLiteral.Z)(["\n    padding: 40px 0 64px 0;\n  "]))),layoutErrorMessage:(0,emotion_react_browser_esm.iv)(FormUpdateUser_styles_templateObject2||(FormUpdateUser_styles_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    margin-top: 4px;\n  "]))),avatarWrapper:(0,emotion_react_browser_esm.iv)(FormUpdateUser_styles_templateObject3||(FormUpdateUser_styles_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 40px;\n  "]))),avatarChangeButton:(0,emotion_react_browser_esm.iv)(_templateObject4||(_templateObject4=(0,taggedTemplateLiteral.Z)(["\n    margin-top: 8px;\n    font-size: ",";\n    &:hover,\n    &:focus {\n      color: ",";\n    }\n  "])),theme.r.fontSize.md,theme.r.color.hoverBlack),layoutInput:(0,emotion_react_browser_esm.iv)(_templateObject5||(_templateObject5=(0,taggedTemplateLiteral.Z)(["\n    padding-top: 16px;\n  "]))),layoutSubmitButton:(0,emotion_react_browser_esm.iv)(_templateObject6||(_templateObject6=(0,taggedTemplateLiteral.Z)(["\n    margin-top: 48px;\n  "]))),snsInput:(0,emotion_react_browser_esm.iv)(_templateObject7||(_templateObject7=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    align-items: center;\n    img {\n      margin-right: 8px;\n    }\n    span {\n      margin-right: 8px;\n      font-size: ",";\n      color: ",";\n    }\n  "])),theme.r.fontSize.sm,theme.r.color.gray),userIdWrapper:(0,emotion_react_browser_esm.iv)(_templateObject8||(_templateObject8=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    align-items: center;\n    span {\n      margin-right: 8px;\n      font-size: ",";\n      color: ",";\n    }\n  "])),theme.r.fontSize.sm,theme.r.color.gray)},FormUpdateUser_jsx=react.createElement,FormUpdateUser=function FormUpdateUser(_ref){var data=_ref.data,authUser=_ref.authUser,_useFormCreateUpdateU=useFormCreateUpdateUser({userData:data,auth:authUser}),register=_useFormCreateUpdateU.register,handleSubmit=_useFormCreateUpdateU.handleSubmit,onSubmit=_useFormCreateUpdateU.onSubmit,uploading=_useFormCreateUpdateU.uploading,handleUploadImage=_useFormCreateUpdateU.handleUploadImage,errors=_useFormCreateUpdateU.errors,isDirty=_useFormCreateUpdateU.isDirty,isSubmitting=_useFormCreateUpdateU.isSubmitting,isValid=_useFormCreateUpdateU.isValid,currentIcon=_useFormCreateUpdateU.currentIcon;return FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutForm},FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.avatarWrapper},FormUpdateUser_jsx(Inputs.Xf,{src:currentIcon,text:"変更する",type:"avatar",uploading,onChange:handleUploadImage})),FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutInput},FormUpdateUser_jsx(Inputs.AZ,{htmlFor:"userId",subText:"変更できません",text:"ユーザID"},FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.userIdWrapper},FormUpdateUser_jsx("span",null,"https://triplate.app/"),FormUpdateUser_jsx(Inputs.oH,(0,esm_extends.Z)({disabled:!0,id:"userId",isInvalid:!1,placeholder:"triplate"},register("userId")))))),FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutInput},FormUpdateUser_jsx(Inputs.AZ,{htmlFor:"name",text:"表示される名前"},FormUpdateUser_jsx(Inputs.oH,(0,esm_extends.Z)({id:"name"},register("name"),{isInvalid:!!errors.name,placeholder:"表示される名前を入力"}))),!!errors.name&&FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutErrorMessage},FormUpdateUser_jsx(Inputs.fm,null,errors.name.message))),FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutInput},FormUpdateUser_jsx(Inputs.AZ,{htmlFor:"description",subText:"任意",text:"自己紹介"},FormUpdateUser_jsx(Inputs.zg,(0,esm_extends.Z)({id:"description",isInvalid:!!errors.description,placeholder:"自己紹介"},register("description")))),!!errors.description&&FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutErrorMessage},FormUpdateUser_jsx(Inputs.fm,null,errors.description.message))),FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutInput},FormUpdateUser_jsx(Inputs.AZ,{htmlFor:"instagram",subText:"任意",text:"SNSアカウントのユーザ名"},FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.snsInput},FormUpdateUser_jsx(image_default(),{alt:"Instagramのロゴ",height:24,src:"/logos/instagram_logo.svg",width:24}),FormUpdateUser_jsx("span",null,"instagram.com/"),FormUpdateUser_jsx(Inputs.oH,(0,esm_extends.Z)({id:"instagram",isInvalid:!!errors.links&&!!errors.links.instagram,placeholder:"@なしで入力"},register("links.instagram"))))),!!errors.links&&!!errors.links.instagram&&FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutErrorMessage},FormUpdateUser_jsx(Inputs.fm,null,errors.links.instagram.message))),FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutInput},FormUpdateUser_jsx("label",{htmlFor:"twitter"},FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.snsInput},FormUpdateUser_jsx(image_default(),{alt:"Twitterのロゴ",height:24,src:"/logos/twitter_logo.svg",width:24}),FormUpdateUser_jsx("span",null,"twitter.com/"),FormUpdateUser_jsx(Inputs.oH,(0,esm_extends.Z)({id:"twitter",isInvalid:!!errors.links&&!!errors.links.twitter,placeholder:"@なしで入力"},register("links.twitter"))))),!!errors.links&&!!errors.links.twitter&&FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutErrorMessage},FormUpdateUser_jsx(Inputs.fm,null,errors.links.twitter.message))),FormUpdateUser_jsx("div",{css:FormUpdateUser_styles_styles.layoutSubmitButton},FormUpdateUser_jsx(Buttons.v8,{disabled:isSubmitting||!isDirty||!isValid,onClick:handleSubmit(onSubmit)},"プロフィールを更新")))};FormUpdateUser.displayName="FormUpdateUser",FormUpdateUser.__docgenInfo={description:"",methods:[],displayName:"FormUpdateUser",props:{authUser:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  icon: string\n  uid: string\n}",signature:{properties:[{key:"icon",value:{name:"string",required:!0}},{key:"uid",value:{name:"string",required:!0}}]}},description:""},data:{required:!0,tsType:{name:"UserRequestBodyType"},description:""}}};try{FormUpdateUser.displayName="FormUpdateUser",FormUpdateUser.__docgenInfo={description:"",displayName:"FormUpdateUser",props:{authUser:{defaultValue:null,description:"",name:"authUser",required:!0,type:{name:"{ icon: string; uid: string; }"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"UserRequestBodyType"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/FormUpdateUser.tsx#FormUpdateUser"]={docgenInfo:FormUpdateUser.__docgenInfo,name:"FormUpdateUser",path:"src/components/Forms/FormUpdateUser.tsx#FormUpdateUser"})}catch(__react_docgen_typescript_loader_error){}var FormCreateUser_styles_templateObject,FormCreateUser_styles_templateObject2,FormCreateUser_styles_templateObject3,FormCreateUser_styles_templateObject4,FormCreateUser_styles_templateObject5,FormCreateUser_styles_templateObject6,FormCreateUser_styles_templateObject7,FormCreateUser_styles_templateObject8,_templateObject9,rootStore=__webpack_require__("./src/redux/rootStore.ts"),indexes=__webpack_require__("./src/redux/services/firestore/indexes/indexes.ts"),FormCreateUser_styles_styles={layoutForm:(0,emotion_react_browser_esm.iv)(FormCreateUser_styles_templateObject||(FormCreateUser_styles_templateObject=(0,taggedTemplateLiteral.Z)(["\n    padding: 38px 0 0 0;\n  "]))),layoutErrorMessage:(0,emotion_react_browser_esm.iv)(FormCreateUser_styles_templateObject2||(FormCreateUser_styles_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    margin-top: 4px;\n  "]))),kv:(0,emotion_react_browser_esm.iv)(FormCreateUser_styles_templateObject3||(FormCreateUser_styles_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 200px;\n    height: 200px;\n    margin: 0 auto 38px auto;\n    font-size: ",";\n    background-color: ",";\n  "])),theme.r.fontSize.xl,theme.r.color.bgGray),avatarWrapper:(0,emotion_react_browser_esm.iv)(FormCreateUser_styles_templateObject4||(FormCreateUser_styles_templateObject4=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin-bottom: 40px;\n  "]))),avatarChangeButton:(0,emotion_react_browser_esm.iv)(FormCreateUser_styles_templateObject5||(FormCreateUser_styles_templateObject5=(0,taggedTemplateLiteral.Z)(["\n    margin-top: 8px;\n    font-size: ",";\n    &:hover,\n    &:focus {\n      color: ",";\n    }\n  "])),theme.r.fontSize.md,theme.r.color.hoverBlack),layoutInput:(0,emotion_react_browser_esm.iv)(FormCreateUser_styles_templateObject6||(FormCreateUser_styles_templateObject6=(0,taggedTemplateLiteral.Z)(["\n    padding-top: 16px;\n  "]))),layoutSubmitButton:(0,emotion_react_browser_esm.iv)(FormCreateUser_styles_templateObject7||(FormCreateUser_styles_templateObject7=(0,taggedTemplateLiteral.Z)(["\n    margin-top: 48px;\n  "]))),snsInput:(0,emotion_react_browser_esm.iv)(FormCreateUser_styles_templateObject8||(FormCreateUser_styles_templateObject8=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    align-items: center;\n    img {\n      margin-right: 16px;\n    }\n    span {\n      margin-right: 16px;\n      font-size: ",";\n      color: ",";\n    }\n  "])),theme.r.fontSize.sm,theme.r.color.gray),userIdWrapper:(0,emotion_react_browser_esm.iv)(_templateObject9||(_templateObject9=(0,taggedTemplateLiteral.Z)(["\n    display: flex;\n    align-items: center;\n    span {\n      margin-right: 8px;\n      font-size: ",";\n      color: ",";\n    }\n  "])),theme.r.fontSize.sm,theme.r.color.gray)},FormCreateUser_jsx=react.createElement,FormCreateUser=function FormCreateUser(_ref){var window=_ref.window,authUser=_ref.authUser,setWindow=_ref.setWindow,dispatch=(0,rootStore.kt)(),checkUniqueness=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,dispatch(indexes.G.endpoints.checkUniqueUserId.initiate(currentUserId)).unwrap();case 2:_context.sent?setWindow("setProfile"):alert("ユーザー名「".concat(currentUserId,"」はすでに使用されています"));case 4:case"end":return _context.stop()}}),_callee)})));return function checkUniqueness(){return _ref2.apply(this,arguments)}}(),_useFormCreateUpdateU=useFormCreateUpdateUser({auth:{icon:authUser.icon,uid:authUser.uid}}),handleUploadImage=_useFormCreateUpdateU.handleUploadImage,uploading=_useFormCreateUpdateU.uploading,register=_useFormCreateUpdateU.register,handleSubmit=_useFormCreateUpdateU.handleSubmit,onSubmit=_useFormCreateUpdateU.onSubmit,currentIcon=_useFormCreateUpdateU.currentIcon,isDirty=_useFormCreateUpdateU.isDirty,isValid=_useFormCreateUpdateU.isValid,currentUserId=_useFormCreateUpdateU.currentUserId,isSubmitting=_useFormCreateUpdateU.isSubmitting,errors=_useFormCreateUpdateU.errors;return FormCreateUser_jsx("div",null,"setName"===window?FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutForm},FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.kv},"KV"),FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutInput},FormCreateUser_jsx(Inputs.AZ,{htmlFor:"userId",subText:"後から変更できません",text:"ユーザID"},FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.userIdWrapper},FormCreateUser_jsx("span",null,"https://triplate.app/"),FormCreateUser_jsx(Inputs.oH,(0,esm_extends.Z)({id:"userId",isInvalid:!!errors.userId,placeholder:"triplate"},register("userId"))))),!!errors.userId&&FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutErrorMessage},FormCreateUser_jsx(Inputs.fm,null,errors.userId.message))),FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutInput},FormCreateUser_jsx(Inputs.AZ,{htmlFor:"name",subText:"いつでも変更できます",text:"表示される名前"},FormCreateUser_jsx(Inputs.oH,(0,esm_extends.Z)({id:"name",isInvalid:!!errors.name,placeholder:"表示される名前を入力"},register("name")))),!!errors.name&&FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutErrorMessage},FormCreateUser_jsx(Inputs.fm,null,errors.name.message))),FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutSubmitButton},FormCreateUser_jsx(Buttons.Ig,{disabled:!(!errors.userId&&!errors.name&&isDirty&&isValid),icon:"none",onClick:checkUniqueness},"次へ進む"))):FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutForm},FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.avatarWrapper},FormCreateUser_jsx(Inputs.Xf,{src:null!=currentIcon?currentIcon:"",text:"変更する",type:"avatar",uploading,onChange:handleUploadImage})),FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutInput},FormCreateUser_jsx(Inputs.AZ,{htmlFor:"description",subText:"任意",text:"自己紹介"},FormCreateUser_jsx(Inputs.zg,(0,esm_extends.Z)({id:"description",isInvalid:!!errors.description,placeholder:"自己紹介"},register("description")))),!!errors.description&&FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutErrorMessage},FormCreateUser_jsx(Inputs.fm,null,errors.description.message))),FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutInput},FormCreateUser_jsx(Inputs.AZ,{htmlFor:"instagram",subText:"任意",text:"SNSアカウントのユーザ名"},FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.snsInput},FormCreateUser_jsx(image_default(),{alt:"Instagramのロゴ",height:24,src:"/logos/instagram_logo.svg",width:24}),FormCreateUser_jsx("span",null,"instagram.com/"),FormCreateUser_jsx(Inputs.oH,(0,esm_extends.Z)({id:"instagram",isInvalid:!!errors.links&&!!errors.links.instagram,placeholder:"@なしで入力"},register("links.instagram"))))),!!errors.links&&!!errors.links.instagram&&FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutErrorMessage},FormCreateUser_jsx(Inputs.fm,null,errors.links.instagram.message))),FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutInput},FormCreateUser_jsx("label",{htmlFor:"twitter"},FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.snsInput},FormCreateUser_jsx(image_default(),{alt:"Twitterのロゴ",height:24,src:"/logos/twitter_logo.svg",width:24}),FormCreateUser_jsx("span",null,"twitter.com/"),FormCreateUser_jsx(Inputs.oH,(0,esm_extends.Z)({id:"twitter",isInvalid:!!errors.links&&!!errors.links.twitter,placeholder:"@なしで入力"},register("links.twitter"))))),!!errors.links&&!!errors.links.twitter&&FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutErrorMessage},FormCreateUser_jsx(Inputs.fm,null,errors.links.twitter.message))),FormCreateUser_jsx("div",{css:FormCreateUser_styles_styles.layoutSubmitButton},FormCreateUser_jsx(Buttons.v8,{disabled:!isValid||isSubmitting||!isDirty,onClick:handleSubmit(onSubmit)},"アカウント作成"))))};FormCreateUser.displayName="FormCreateUser",FormCreateUser.__docgenInfo={description:"",methods:[],displayName:"FormCreateUser",props:{window:{required:!0,tsType:{name:"union",raw:"'setName' | 'setProfile'",elements:[{name:"literal",value:"'setName'"},{name:"literal",value:"'setProfile'"}]},description:""},setWindow:{required:!0,tsType:{name:"Dispatch",elements:[{name:"SetStateAction",elements:[{name:"union",raw:"'setName' | 'setProfile'",elements:[{name:"literal",value:"'setName'"},{name:"literal",value:"'setProfile'"}]}],raw:"SetStateAction<'setName' | 'setProfile'>"}],raw:"Dispatch<SetStateAction<'setName' | 'setProfile'>>"},description:""},authUser:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  icon: string\n  uid: string\n}",signature:{properties:[{key:"icon",value:{name:"string",required:!0}},{key:"uid",value:{name:"string",required:!0}}]}},description:""}}};try{FormCreateUser.displayName="FormCreateUser",FormCreateUser.__docgenInfo={description:"",displayName:"FormCreateUser",props:{window:{defaultValue:null,description:"",name:"window",required:!0,type:{name:"enum",value:[{value:'"setName"'},{value:'"setProfile"'}]}},setWindow:{defaultValue:null,description:"",name:"setWindow",required:!0,type:{name:'Dispatch<SetStateAction<"setName" | "setProfile">>'}},authUser:{defaultValue:null,description:"",name:"authUser",required:!0,type:{name:"{ icon: string; uid: string; }"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/FormCreateUser.tsx#FormCreateUser"]={docgenInfo:FormCreateUser.__docgenInfo,name:"FormCreateUser",path:"src/components/Forms/FormCreateUser.tsx#FormCreateUser"})}catch(__react_docgen_typescript_loader_error){}var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),stores=__webpack_require__("./src/redux/stores/index.ts"),dates=__webpack_require__("./src/utils/dates/index.ts"),joinTags=function joinTags(tags){return tags?"#".concat(tags.join(" #")):""},extractTags=function extractTags(str){var tags=str.match(/#[^\s#]+/g);return tags?tags.map((function(tag){return tag.slice(1)})):[]},_excluded=["triplinkData"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){(0,defineProperty.Z)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}var FormCreateUpdateTriplateSettings_styles_templateObject,FormCreateUpdateTriplateSettings_styles_templateObject2,FormCreateUpdateTriplateSettings_styles_templateObject3,FormCreateUpdateTriplateSettings_styles_templateObject4,FormCreateUpdateTriplateSettings_styles_templateObject5,FormCreateUpdateTriplateSettings_styles_templateObject6,triplateId=(0,v4.Z)(),createSchema=yup_config.object({triplinkData:yup_config.string().required("テンプレートにするたびは必須です"),tags:yup_config.string().nullable().convertToNull(),description:yup_config.string().maxLength(150,"たびの説明").nullable().convertToNull(),privacySettings:yup_config.object().shape({isMemoPublic:yup_config.boolean().required("ひとことメモの公開設定は必須です"),isTimePublic:yup_config.boolean().required("ひとことメモの公開設定は必須です"),isItineraryPublic:yup_config.boolean().required("ひとことメモの公開設定は必須です")})}),updateSchema=createSchema.shape({triplinkData:yup_config.string()}),FormCreateUpdateTriplateSettings_styles_styles={formWrapper:(0,emotion_react_browser_esm.iv)(FormCreateUpdateTriplateSettings_styles_templateObject||(FormCreateUpdateTriplateSettings_styles_templateObject=(0,taggedTemplateLiteral.Z)(["\n    position: relative;\n    width: 100%;\n    min-height: calc(100vh - 176px);\n  "]))),layoutInput:(0,emotion_react_browser_esm.iv)(FormCreateUpdateTriplateSettings_styles_templateObject2||(FormCreateUpdateTriplateSettings_styles_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    padding-top: 16px;\n  "]))),layoutButton:(0,emotion_react_browser_esm.iv)(FormCreateUpdateTriplateSettings_styles_templateObject3||(FormCreateUpdateTriplateSettings_styles_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    padding: 32px 0;\n  "]))),label:(0,emotion_react_browser_esm.iv)(FormCreateUpdateTriplateSettings_styles_templateObject4||(FormCreateUpdateTriplateSettings_styles_templateObject4=(0,taggedTemplateLiteral.Z)(["\n    font-size: ",";\n    font-weight: 300;\n  "])),theme.r.fontSize.md),layoutSwitch:(0,emotion_react_browser_esm.iv)(FormCreateUpdateTriplateSettings_styles_templateObject5||(FormCreateUpdateTriplateSettings_styles_templateObject5=(0,taggedTemplateLiteral.Z)(["\n    margin-top: 16px;\n  "]))),layoutErrorMessage:(0,emotion_react_browser_esm.iv)(FormCreateUpdateTriplateSettings_styles_templateObject6||(FormCreateUpdateTriplateSettings_styles_templateObject6=(0,taggedTemplateLiteral.Z)(["\n    margin-top: 4px;\n  "])))},FormCreateUpdateTriplateSettings_jsx=react.createElement,FormCreateUpdateTriplateSettings=function FormCreateUpdateTriplateSettings(_ref){var data=_ref.data,triplinks=_ref.triplinks,_useFormCreateUpdateT=function useFormCreateUpdateTriplateSettings(triplateSettingsData){var _triplateSettingsData,_triplateSettingsData2,_triplateSettingsData3,_triplateSettingsData4,router=(0,next_router.useRouter)(),_useCreateTriplateMut=(0,firestore.GG)(),createTriplateSettings=(0,slicedToArray.Z)(_useCreateTriplateMut,1)[0],_useUpdateTriplateMut=(0,firestore.XZ)(),updateTriplateSettings=(0,slicedToArray.Z)(_useUpdateTriplateMut,1)[0],currentUesrData=(0,rootStore.CG)(stores.tz.currentUserData),_useForm=(0,index_esm.cI)({resolver:(0,yup.X)(triplateSettingsData?updateSchema:createSchema),mode:"onChange",defaultValues:{triplinkData:"",description:null!==(_triplateSettingsData=null==triplateSettingsData?void 0:triplateSettingsData.description)&&void 0!==_triplateSettingsData?_triplateSettingsData:"",tags:joinTags(null==triplateSettingsData?void 0:triplateSettingsData.tags),privacySettings:{isMemoPublic:null!==(_triplateSettingsData2=null==triplateSettingsData?void 0:triplateSettingsData.privacySettings.isMemoPublic)&&void 0!==_triplateSettingsData2&&_triplateSettingsData2,isTimePublic:null!==(_triplateSettingsData3=null==triplateSettingsData?void 0:triplateSettingsData.privacySettings.isTimePublic)&&void 0!==_triplateSettingsData3&&_triplateSettingsData3,isItineraryPublic:null!==(_triplateSettingsData4=null==triplateSettingsData?void 0:triplateSettingsData.privacySettings.isItineraryPublic)&&void 0!==_triplateSettingsData4&&_triplateSettingsData4}}}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,reset=_useForm.reset,_useForm$formState=_useForm.formState,errors=_useForm$formState.errors,isDirty=_useForm$formState.isDirty,isValid=_useForm$formState.isValid,isSubmitting=_useForm$formState.isSubmitting,isSubmitSuccessful=_useForm$formState.isSubmitSuccessful;(0,react.useEffect)((function(){isSubmitSuccessful&&reset({},{keepValues:!0})}),[isSubmitSuccessful]);var onSubmit=function(){var _ref=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(data){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(_context.prev=0,!triplateSettingsData){_context.next=6;break}return _context.next=4,update(data);case 4:_context.next=8;break;case 6:return _context.next=8,create(data);case 8:_context.next=13;break;case 10:_context.prev=10,_context.t0=_context.catch(0),console.error(_context.t0);case 13:case"end":return _context.stop()}}),_callee,null,[[0,10]])})));return function onSubmit(_x){return _ref.apply(this,arguments)}}(),create=function(){var _ref2=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(data){var _data$tags,triplinkData,otherData,tags,parsedData,body;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return triplinkData=data.triplinkData,otherData=(0,objectWithoutProperties.Z)(data,_excluded),tags=extractTags(null!==(_data$tags=data.tags)&&void 0!==_data$tags?_data$tags:""),parsedData=JSON.parse(triplinkData),body=_objectSpread(_objectSpread({},otherData),{},{triplinkId:parsedData.id,title:parsedData.title,thumbnail:parsedData.thumbnail,date:(0,dates.i$)(parsedData.date),isPublished:!1,tags}),_context2.next=6,createTriplateSettings({id:triplateId,uid:currentUesrData.uid,body}).unwrap();case 6:router.push("/triplate/".concat(triplateId,"/edit/memory"));case 7:case"end":return _context2.stop()}}),_callee2)})));return function create(_x2){return _ref2.apply(this,arguments)}}(),update=function(){var _ref3=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee3(data){var _data$tags2,tags;return regenerator_default().wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:return tags=extractTags(null!==(_data$tags2=data.tags)&&void 0!==_data$tags2?_data$tags2:""),_context3.next=3,updateTriplateSettings({id:String(router.query.triplateId),body:{description:data.description,privacySettings:data.privacySettings,tags}});case 3:case"end":return _context3.stop()}}),_callee3)})));return function update(_x3){return _ref3.apply(this,arguments)}}();return{register,handleSubmit,onSubmit,errors,isDirty,isValid,isSubmitting}}(data),register=_useFormCreateUpdateT.register,handleSubmit=_useFormCreateUpdateT.handleSubmit,onSubmit=_useFormCreateUpdateT.onSubmit,errors=_useFormCreateUpdateT.errors,isValid=_useFormCreateUpdateT.isValid,isDirty=_useFormCreateUpdateT.isDirty,isSubmitting=_useFormCreateUpdateT.isSubmitting;return FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.formWrapper},FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutInput},FormCreateUpdateTriplateSettings_jsx(Inputs.AZ,{htmlFor:"trip",text:"テンプレートにするたび"},FormCreateUpdateTriplateSettings_jsx(Selects.K,{disabled:!!data,isInvalid:!1,options:function formatSelectTrips(triplinks){var _triplinks$map;return null!==(_triplinks$map=null==triplinks?void 0:triplinks.map((function(triplink){return{name:triplink.title,id:JSON.stringify(triplink)}})))&&void 0!==_triplinks$map?_triplinks$map:[]}(triplinks),placeholder:data?data.title:"たびを選択",register:register("triplinkData")})),!!errors.triplinkData&&FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutErrorMessage},FormCreateUpdateTriplateSettings_jsx(Inputs.fm,null,errors.triplinkData.message))),FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutInput},FormCreateUpdateTriplateSettings_jsx(Inputs.AZ,{htmlFor:"trip",text:"たびの説明"},FormCreateUpdateTriplateSettings_jsx(Inputs.zg,(0,esm_extends.Z)({isInvalid:!1,placeholder:"たびの説明"},register("description")))),!!errors.description&&FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutErrorMessage},FormCreateUpdateTriplateSettings_jsx(Inputs.fm,null,errors.description.message))),FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutInput},FormCreateUpdateTriplateSettings_jsx(Inputs.AZ,{htmlFor:"trip",text:"タグ"},FormCreateUpdateTriplateSettings_jsx(Inputs.oH,(0,esm_extends.Z)({isInvalid:!1,placeholder:"#お好きなワードをどうぞ。例: #大阪観光 #たこやき"},register("tags")))),!!errors.tags&&FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutErrorMessage},FormCreateUpdateTriplateSettings_jsx(Inputs.fm,null,errors.tags.message))),FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutInput},FormCreateUpdateTriplateSettings_jsx("h2",{css:FormCreateUpdateTriplateSettings_styles_styles.label},"公開設定"),FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutSwitch},FormCreateUpdateTriplateSettings_jsx(Inputs.Ql,{id:"switch-memo",register:register("privacySettings.isMemoPublic"),text:"ひとことメモを公開"}),!!errors.privacySettings&&!!errors.privacySettings.isMemoPublic&&FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutErrorMessage},FormCreateUpdateTriplateSettings_jsx(Inputs.fm,null,errors.privacySettings.isMemoPublic.message))),FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutSwitch},FormCreateUpdateTriplateSettings_jsx(Inputs.Ql,{id:"switch-time",register:register("privacySettings.isTimePublic"),text:"時間を公開"}),!!errors.privacySettings&&!!errors.privacySettings.isTimePublic&&FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutErrorMessage},FormCreateUpdateTriplateSettings_jsx(Inputs.fm,null,errors.privacySettings.isTimePublic.message))),FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutSwitch},FormCreateUpdateTriplateSettings_jsx(Inputs.Ql,{id:"switch-itinerary",register:register("privacySettings.isItineraryPublic"),text:"旅程のメモを公開"}),!!errors.privacySettings&&!!errors.privacySettings.isItineraryPublic&&FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutErrorMessage},FormCreateUpdateTriplateSettings_jsx(Inputs.fm,null,errors.privacySettings.isItineraryPublic.message)))),FormCreateUpdateTriplateSettings_jsx("div",{css:FormCreateUpdateTriplateSettings_styles_styles.layoutButton},FormCreateUpdateTriplateSettings_jsx(Buttons.v8,{disabled:!isValid||isSubmitting||!isDirty,onClick:handleSubmit(onSubmit)},"下書きを作成")))};FormCreateUpdateTriplateSettings.displayName="FormCreateUpdateTriplateSettings",FormCreateUpdateTriplateSettings.__docgenInfo={description:"",methods:[],displayName:"FormCreateUpdateTriplateSettings",props:{data:{required:!1,tsType:{name:"TriplateType"},description:""},triplinks:{required:!1,tsType:{name:"Array",elements:[{name:"GetTriplinkType"}],raw:"GetTriplinkType[]"},description:""}}};try{FormCreateUpdateTriplateSettings.displayName="FormCreateUpdateTriplateSettings",FormCreateUpdateTriplateSettings.__docgenInfo={description:"",displayName:"FormCreateUpdateTriplateSettings",props:{data:{defaultValue:null,description:"",name:"data",required:!1,type:{name:"TriplateType"}},triplinks:{defaultValue:null,description:"",name:"triplinks",required:!1,type:{name:"GetTriplinkType[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Forms/FormCreateUpdateTriplateSettings.tsx#FormCreateUpdateTriplateSettings"]={docgenInfo:FormCreateUpdateTriplateSettings.__docgenInfo,name:"FormCreateUpdateTriplateSettings",path:"src/components/Forms/FormCreateUpdateTriplateSettings.tsx#FormCreateUpdateTriplateSettings"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Selects/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>SelectAuthority,K:()=>SelectBase});var _templateObject,react=__webpack_require__("./node_modules/react/index.js"),taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),theme=__webpack_require__("./src/styles/theme.ts"),utils=__webpack_require__("./src/styles/utils.ts"),styles={wrapper:(0,emotion_react_browser_esm.iv)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n\n    select {\n      width: 120px;\n      padding: 8px 16px;\n      font-size: ",";\n      text-overflow: ellipsis;\n      cursor: pointer;\n      background: #fff;\n      border: 2px solid ",";\n      border-radius: 100px;\n      &:hover,\n      &:focus {\n        background-color: ",";\n        "," {\n          background-color: ",";\n        }\n      }\n    }\n    &::before {\n      position: absolute;\n      top: 50%;\n      right: 16px;\n      width: 10px;\n      height: 10px;\n      margin-top: -7px;\n      content: '';\n      border: 0;\n      border-right: solid 2px ",";\n      border-bottom: solid 2px ",";\n      transform: rotate(45deg);\n    }\n  "])),theme.r.fontSize.md,theme.r.color.bgGray,theme.r.color.bgGray,(0,utils.mq)("sm"),theme.r.color.white,theme.r.color.gray,theme.r.color.gray)},__jsx=react.createElement,SelectAuthority=function SelectAuthority(_ref){var canEdit=_ref.canEdit;return __jsx("div",{css:styles.wrapper},__jsx("select",{name:"authority"},canEdit?__jsx(react.Fragment,null,__jsx("option",{value:"owner"},"編集可能"),__jsx("option",{value:"noEdit"},"見るだけ")):__jsx(react.Fragment,null,__jsx("option",{value:"noEdit"},"見るだけ"),__jsx("option",{value:"owner"},"編集可能"))))};SelectAuthority.displayName="SelectAuthority",SelectAuthority.__docgenInfo={description:"",methods:[],displayName:"SelectAuthority",props:{canEdit:{required:!0,tsType:{name:"boolean"},description:""}}};try{SelectAuthority.displayName="SelectAuthority",SelectAuthority.__docgenInfo={description:"",displayName:"SelectAuthority",props:{canEdit:{defaultValue:null,description:"",name:"canEdit",required:!0,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Selects/SelectAuthority.tsx#SelectAuthority"]={docgenInfo:SelectAuthority.__docgenInfo,name:"SelectAuthority",path:"src/components/Selects/SelectAuthority.tsx#SelectAuthority"})}catch(__react_docgen_typescript_loader_error){}var SelectBase_styles_templateObject,_templateObject2,_templateObject3,esm_extends=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),SelectBase_styles_styles={wrapper:(0,emotion_react_browser_esm.iv)(SelectBase_styles_templateObject||(SelectBase_styles_templateObject=(0,taggedTemplateLiteral.Z)(["\n    position: relative;\n    display: inline-block;\n    width: 100%;\n    vertical-align: middle;\n\n    &::before {\n      position: absolute;\n      top: 50%;\n      right: 16px;\n      width: 10px;\n      height: 10px;\n      margin-top: -7px;\n      content: '';\n      border: 0;\n      border-right: solid 2px ",";\n      border-bottom: solid 2px ",";\n      transform: rotate(45deg);\n    }\n  "])),theme.r.color.gray,theme.r.color.gray),select:function select(isInvalid){return(0,emotion_react_browser_esm.iv)(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    width: 100%;\n    padding: 12px 47px 12px 16px;\n    font-size: ",";\n    color: ",";\n    text-overflow: ellipsis;\n    background-color: ",";\n    border-radius: 100px;\n\n    &:hover,\n    &:focus {\n      outline: 2px solid\n        ",";\n    }\n    &:disabled {\n      background-color: ",";\n    }\n  "])),theme.r.fontSize.md,theme.r.color.gray,theme.r.color.bgGray,isInvalid?theme.r.color.red:theme.r.color.outlineGray,theme.r.color.outlineGray)},placeholder:(0,emotion_react_browser_esm.iv)(_templateObject3||(_templateObject3=(0,taggedTemplateLiteral.Z)(["\n    /* placeholderは選択候補に表示させない */\n    display: none;\n  "])))},SelectBase_jsx=react.createElement,SelectBase=function SelectBase(_ref){var placeholder=_ref.placeholder,options=_ref.options,isInvalid=_ref.isInvalid,register=_ref.register,disabled=_ref.disabled;return SelectBase_jsx("div",{css:SelectBase_styles_styles.wrapper},SelectBase_jsx("select",(0,esm_extends.Z)({css:SelectBase_styles_styles.select(isInvalid),disabled},register),SelectBase_jsx("option",{css:SelectBase_styles_styles.placeholder,disabled:!0,value:""},placeholder),options.map((function(option){return SelectBase_jsx("option",{key:option.id,value:option.id},option.name)}))))};SelectBase.displayName="SelectBase",SelectBase.__docgenInfo={description:"",methods:[],displayName:"SelectBase",props:{placeholder:{required:!0,tsType:{name:"string"},description:""},isInvalid:{required:!0,tsType:{name:"boolean"},description:""},register:{required:!0,tsType:{name:"UseFormRegisterReturn"},description:""},disabled:{required:!0,tsType:{name:"boolean"},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  name: string\n  id: string\n}",signature:{properties:[{key:"name",value:{name:"string",required:!0}},{key:"id",value:{name:"string",required:!0}}]}}],raw:"{\n  name: string\n  id: string\n}[]"},description:""}}};try{SelectBase.displayName="SelectBase",SelectBase.__docgenInfo={description:"",displayName:"SelectBase",props:{placeholder:{defaultValue:null,description:"",name:"placeholder",required:!0,type:{name:"string"}},isInvalid:{defaultValue:null,description:"",name:"isInvalid",required:!0,type:{name:"boolean"}},register:{defaultValue:null,description:"",name:"register",required:!0,type:{name:"UseFormRegisterReturn<string>"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!0,type:{name:"boolean"}},options:{defaultValue:null,description:"",name:"options",required:!0,type:{name:"{ name: string; id: string; }[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Selects/SelectBase.tsx#SelectBase"]={docgenInfo:SelectBase.__docgenInfo,name:"SelectBase",path:"src/components/Selects/SelectBase.tsx#SelectBase"})}catch(__react_docgen_typescript_loader_error){}},"?6e58":()=>{}}]);